<!DOCTYPE html>
<html xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">

<h:head>

</h:head>

<h:body>

    <h1>#{msg['app.title']}</h1>

    <h:form>
        <h:panelGrid columns="2">
            #{msg['app.language']}:
            <p:selectOneMenu value="#{languageMB.localeCode}" onchange="submit()"
                             valueChangeListener="#{languageMB.localeChanged}">
                <f:selectItems value="#{languageMB.countries}"/>
            </p:selectOneMenu>
        </h:panelGrid>

        <p:dataTable id="monumentsTable" var="monument" value="#{monumentMB.monuments}" style="width:49%;float:left">
            <p:column headerText="#{msg['table.title']}"><h:outputText value="#{monument.title}"/></p:column>
            <p:column style="width:32px;text-align: center">
                <p:commandButton actionListener="#{monumentMB.onSelectMonument(monument)}"
                                 update="@form:detail" icon="ui-icon-search" title="View"/>
            </p:column>
        </p:dataTable>

        <p:outputPanel id="detail" style="width:49%;float:right">
            <p:gmap id="map" widgetVar="map" center="#{monumentMB.centerMap}" zoom="#{monumentMB.zoom}"
                    model="#{monumentMB.mapModel}" type="HYBRID" style="width:100%;height:400px"/>

            <img src="#{monumentMB.selectedMonument.image}"/>

            <h:outputText escape="false" value="#{monumentMB.selectedMonument.description}"
                          style="width:49%;float:right"/>
        </p:outputPanel>
    </h:form>

    <!-- Scripts -->
    <script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script>

</h:body>

</html>
